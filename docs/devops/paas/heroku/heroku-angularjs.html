<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui"><meta name="robots" content="none"><title>marlou knowledge base</title><link href="/github-markdown.d098492d.css" rel="stylesheet" media="all"><link href="/main.cb64a04a.css" rel="stylesheet" media="all"><link href="/github.51c27d45.css" rel="stylesheet"><script src="/docs.a0c71561.js"></script></head><body><article class="markdown-body"><h1 id="title-heroku---angularjs">heroku - angularjs</h1> <h2 id="title-goal">Goal</h2> <p>Running an Angular app as a Node.js app.</p> <h2 id="title-deploy-angular-app-on-heroku">deploy angular app on heroku</h2> <p><a href="http://www.sitepoint.com/deploying-yeomanangular-app-heroku/">sitepoint.com : deploying-yeomanangular-app-heroku</a></p> <p>steps :</p> <p>rajouter en dépendance du package.json du projet</p> <pre><code class="lang-javascript">&quot;dependencies&quot;: {
      &quot;gzippo&quot;: &quot;~0.2.0&quot;,
      &quot;express&quot;: &quot;~3.4.8&quot;
  }</code></pre> <p>un Procfile contenant :</p> <pre><code>web: node web.js</code></pre><p>un script web.js contenant :</p> <pre><code class="lang-javascript">var gzippo = require(&#39;gzippo&#39;);
var express = require(&#39;express&#39;);
var app = express();

app.use(express.logger(&#39;dev&#39;));
app.use(gzippo.staticGzip(&quot;&quot; + __dirname));
app.listen(process.env.PORT || 9000);</code></pre> <p>les fichiers à déployer sont dans la folder <code>/dist</code><br>Modifier <code>Gruntfile.js</code> pour lui faire copier le Procfile, le <code>web.js</code>.<br>TODO : Lui faire copier une version déployable du <code>package.json</code> (nécessaire !)<br>TOFIX : problème avec certaines tasks (la minification notamment, lié à angular-ui (dep cyclic) et ng-grid)<br>Initialiser un repo git au niveau de <code>/dist</code></p> <p>puis en console au niveau de <code>/dist</code> :</p> <pre><code>$ heroku login
$ heroku create</code></pre><p>créer le repo, commit</p> <pre><code>$ git push heroku master</code></pre><p><strong>l’app est dispo</strong></p> <h2 id="title-divers">divers</h2> <h3 id="title-config-question-on-stackoverflow">config question on stackoverflow</h3> <ul> <li><a href="http://stackoverflow.com/questions/16674202/how-do-i-deploy-an-angular-js-app">stackoverflow.com : how-do-i-deploy-an-angular-js-app</a></li> </ul> <h3 id="title-nodejs-support-on-heroku">Node.js support on Heroku</h3> <ul> <li><a href="https://devcenter.heroku.com/articles/getting-started-with-nodejs#visit-your-application">devcenter.heroku.com : getting-started-with-nodejs#visit-your-application</a></li> </ul> <h3 id="title-example-the-generator-angular-fullstack">Example, the generator-angular-fullstack</h3> <ul> <li><a href="https://npmjs.org/package/generator-angular-fullstack">npmjs.org : generator-angular-fullstack</a></li> </ul> </article></body></html>