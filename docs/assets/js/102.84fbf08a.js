(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{450:function(e,t,a){"use strict";a.r(t);var r=a(42),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"angularjs-templatecache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#angularjs-templatecache"}},[e._v("#")]),e._v(" AngularJS - "),a("code",[e._v("$templateCache")])]),e._v(" "),a("h2",{attrs:{id:"templatecache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#templatecache"}},[e._v("#")]),e._v(" "),a("a",{attrs:{href:"https://code.angularjs.org/1.4.8/docs/api/ng/service/$templateCache",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("$templateCache")]),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("Quand angular voit un templateUrl dans une route ou une directive, il va requêter le serveur pour retrouver le fichier html.\nUne fois qu'il l'a récupéré, il place ce template sous forme de string dans le service "),a("code",[e._v("$templateCache")]),e._v(".\nChaque fois suivante ou angular aura besoin d'accéder à ce template, il va recharger le template depuis "),a("code",[e._v("$templateCache")]),e._v(".\nCe qui évite de multiples connexions réseau inutiles.")]),e._v(" "),a("h2",{attrs:{id:"bonne-pratique"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bonne-pratique"}},[e._v("#")]),e._v(" Bonne pratique")]),e._v(" "),a("p",[e._v("Une bonne pratique consiste à populer $templateCache au build de l'application via un module gulp ("),a("a",{attrs:{href:"https://github.com/miickel/gulp-angular-templatecache",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("gulp-angular-templatecache")]),a("OutboundLink")],1),e._v(").\nAinsi il n'y aura aucun accès réseau pour récupérer les templates.")]),e._v(" "),a("h2",{attrs:{id:"implementation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementation"}},[e._v("#")]),e._v(" Implémentation")]),e._v(" "),a("p",[e._v("Concrètement cette tâche gulp va générer un fichier js qui implémente un run du module principal de la webapp.\nCe run injectera "),a("code",[e._v("$templateCache")]),e._v(".\nPour chaque template trouvé dans le source de la webapp, un call à "),a("code",[e._v("$templateCache.put(<templateUrl>, <templateHtmlContent>)")]),e._v(" sera effectué.")]),e._v(" "),a("h2",{attrs:{id:"lectures-sur-le-sujet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lectures-sur-le-sujet"}},[e._v("#")]),e._v(" Lectures sur le sujet")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://thinkster.io/templatecache-tutorial",target:"_blank",rel:"noopener noreferrer"}},[e._v("templatecache-tutorial : thinkster.io"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://blog.logentries.com/2015/03/template-caching-in-angular-how-to-avoid-the-storm/",target:"_blank",rel:"noopener noreferrer"}},[e._v("template-caching-in-angular-how-to-avoid-the-storm"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);