(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{442:function(e,r,t){"use strict";t.r(r);var o=t(33),s=Object(o.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"cors-cross-origin-resource-sharing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cors-cross-origin-resource-sharing"}},[e._v("#")]),e._v(" CORS (Cross-Origin Resource Sharing)")]),e._v(" "),t("h2",{attrs:{id:"why"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#why"}},[e._v("#")]),e._v(" Why ?")]),e._v(" "),t("ul",[t("li",[e._v("Because of "),t("a",{attrs:{href:"http://en.wikipedia.org/wiki/Same_origin_policy",target:"_blank",rel:"noopener noreferrer"}},[e._v("Same Origin Policy"),t("OutboundLink")],1)])]),e._v(" "),t("blockquote",[t("p",[e._v("The policy permits scripts running on pages originating from the same site – a combination of scheme, hostname, and port number – to access each other's DOM with no specific restrictions, but prevents access to DOM on different sites.\nSame-origin policy also applies to "),t("code",[e._v("XMLHttpRequest")]),e._v(" and to "),t("code",[e._v("robots.txt")]),e._v(".")])]),e._v(" "),t("p",[e._v("CORS configuration is "),t("strong",[e._v("server-side")]),e._v(".")]),e._v(" "),t("p",[e._v("A server using "),t("code",[e._v('"Access-Control-Allow-Origin: *"')]),e._v(" allows all domains, it is "),t("strong",[e._v("very bad")]),e._v(".")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://stackoverflow.com/questions/12001269/what-are-the-security-risks-of-setting-access-control-allow-origin",target:"_blank",rel:"noopener noreferrer"}},[e._v("What are the security risks of setting Access-Control-Allow-Origin? : stackoverflow.com"),t("OutboundLink")],1)]),e._v(" "),t("blockquote",[t("p",[e._v("By responding with "),t("code",[e._v("Access-Control-Allow-Origin: *")]),e._v(", the requested resource allows sharing with every origin. This basically means that any site can send an XHR request to your site and access the server’s response which would not be the case if you hadn’t implemented this CORS response.")]),e._v(" "),t("p",[e._v("So any site can make a request to your site on behalf of their visitors and process its response. If you have something implemented like an authentication or authorization scheme that is based on something that is automatically provided by the browser (cookies, cookie-based sessions, etc.), the requests triggered by the third party sites will use them too.")])]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://en.wikipedia.org/wiki/Cross-origin_resource_sharing",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cross Origin Ressource Sharing"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"infos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#infos"}},[e._v("#")]),e._v(" Infos")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://www.developpez.net/forums/d755910/applications/sig-systeme-d-information-geographique/ign-api-geoportail/requete-cross-site-http-requests/",target:"_blank",rel:"noopener noreferrer"}},[e._v("dev.com : requête: Cross-site HTTP requests"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS?redirectlocale=en-US&redirectslug=HTTP_access_control",target:"_blank",rel:"noopener noreferrer"}},[e._v("developer.mozilla.org : CORS"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Server-Side_Access_Control",target:"_blank",rel:"noopener noreferrer"}},[e._v("developer.mozilla.org : Server-Side Access Control"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/angular/angular.js/issues/5009",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("github.com/angular")]),e._v(" : issue 5009"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://enable-cors.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("enable-cors.org"),t("OutboundLink")],1),e._v(" "),t("strong",[e._v("Very usefull")])]),e._v(" "),t("li",[t("a",{attrs:{href:"http://haanto.com/cors-why-and-how/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cors-why-and-how"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://blog.javascripting.com/2015/01/17/dont-hassle-with-cors/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CORS & proxy in JavaScript front project"),t("OutboundLink")],1)])]),e._v(" "),t("blockquote",[t("p",[e._v("When accessing a ressource from a website with a different domain/port, recent browsers refuse to interpret response because of CORS mechanism.\nThe server needs to put some headers to allow browsers to interpret responses.")])]),e._v(" "),t("h2",{attrs:{id:"http-headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http-headers"}},[e._v("#")]),e._v(" http headers")]),e._v(" "),t("ul",[t("li",[t("code",[e._v('"Access-Control-Allow-Origin: *"')]),e._v(" allow all domains")]),e._v(" "),t("li",[t("code",[e._v('"Access-Control-Allow-Origin: http://example.com:8080 http://foo.example.com"')]),e._v(" specify a defined domain list.")]),e._v(" "),t("li",[e._v("NOTE : Domain list is not allow, a single value is allowed. So the server MUST do the check by itself and set it if contained in the list.\nFor example if u have a system to configure the allowed origin list in your backend, when writing headers in the response, u compare the request origin with your configured list, if it is u set the header with the request origin value, if not you set nothing.")]),e._v(" "),t("li",[t("code",[e._v('"Access-Control-Allow-Credentials: true"')]),e._v(" to also send the cookies")])]),e._v(" "),t("h3",{attrs:{id:"accessing-custom-headers-in-response"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#accessing-custom-headers-in-response"}},[e._v("#")]),e._v(" Accessing custom headers in response")]),e._v(" "),t("p",[e._v("Server MUST return "),t("code",[e._v("Access-Control-Expose-Headers")]),e._v(" containing the exposed headers.\nWithout that header, the JavaScript client CANNOT read them.")]),e._v(" "),t("h2",{attrs:{id:"tuto"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tuto"}},[e._v("#")]),e._v(" Tuto")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://www.html5rocks.com/en/tutorials/cors/",target:"_blank",rel:"noopener noreferrer"}},[e._v("html5rocks.com : CORS"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"specs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#specs"}},[e._v("#")]),e._v(" Specs")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://www.w3.org/TR/cors/",target:"_blank",rel:"noopener noreferrer"}},[e._v("w3c : CORS"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"play-impl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#play-impl"}},[e._v("#")]),e._v(" Play! Impl")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://stackoverflow.com/questions/14430119/play-2-0-1-and-setting-access-control-allow-origin",target:"_blank",rel:"noopener noreferrer"}},[e._v("play-2-0-1-and-setting-access-control-allow-origin"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://www.entreotrascosas.net/configuring-play-framework-for-cross-domain-http-requests/",target:"_blank",rel:"noopener noreferrer"}},[e._v("configuring-play-framework-for-cross-domain-http-requests"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("Need to add a route for "),t("code",[e._v("OPTIONS")]),e._v(" http method and a suited controller.\nroute ex :")]),e._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("OPTIONS       /*path                 controllers.CorsCtrl.checkPreFlight(path)\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"angular-perform-options-action-instead-of-post"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#angular-perform-options-action-instead-of-post"}},[e._v("#")]),e._v(" Angular perform OPTIONS action instead of POST")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://stackoverflow.com/questions/12111936/angularjs-performs-an-options-http-request-for-a-cross-origin-resource",target:"_blank",rel:"noopener noreferrer"}},[e._v("angularjs-performs-an-options"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=s.exports}}]);