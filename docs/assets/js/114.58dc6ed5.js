(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{282:function(e,t,s){"use strict";s.r(t);var r=s(0),o=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"content"},[e._m(0),e._v(" "),t("p",[t("a",{attrs:{href:"https://blog.risingstack.com/node-js-at-scale-module-system-commonjs-require/",target:"_blank",rel:"noopener noreferrer"}},[e._v("How the module system, CommonJS & require works"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/modules.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js v6.11.2 Documentation - Modules"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Node.js module system is based on the "),t("a",{attrs:{href:"http://wiki.commonjs.org/wiki/CommonJS",target:"_blank",rel:"noopener noreferrer"}},[e._v("CommonJS spec"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://medium.com/dailyjs/es6-modules-node-js-and-the-michael-jackson-solution-828dc244b8b",target:"_blank",rel:"noopener noreferrer"}},[e._v("ES6 modules, Node.js and the Michael Jackson Solution"),t("OutboundLink")],1)]),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),t("p",[t("a",{attrs:{href:"https://stackoverflow.com/questions/42401079/nodejs-require",target:"_blank",rel:"noopener noreferrer"}},[e._v("NodeJS require('..')? : stackoverflow.com"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://medium.freecodecamp.org/requiring-modules-in-node-js-everything-you-need-to-know-e7fbd119be8",target:"_blank",rel:"noopener noreferrer"}},[e._v("Requiring modules in Node.js: Everything you need to know : medium.freecodecamp.org : 20170319"),t("OutboundLink")],1)]),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),t("p",[e._v("Variables inside a module are private to that module because each module is wrapped.")]),e._v(" "),e._m(5),t("p",[e._v("See "),t("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/modules.html#modules_the_module_wrapper",target:"_blank",rel:"noopener noreferrer"}},[e._v("module wrapper doc section"),t("OutboundLink")],1),e._v(" for details.")]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),t("p",[e._v("Module caching in the "),t("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/modules.html#modules_caching",target:"_blank",rel:"noopener noreferrer"}},[e._v("node documentation"),t("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(8),e._v(" "),t("p",[e._v("Module unicity is based on the directory ("),t("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/modules.html#modules_module_caching_caveats",target:"_blank",rel:"noopener noreferrer"}},[e._v("see Module Caching Caveats"),t("OutboundLink")],1),e._v(").")]),e._v(" "),e._m(9),e._v(" "),t("p",[e._v("The "),t("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/modules.html#modules_the_module_object",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("module")]),e._v(" Object definition"),t("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),t("p",[e._v("File extension is optional.")]),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),e._m(25),e._v(" "),e._m(26),e._v(" "),e._m(27),e._v(" "),t("p",[e._v("See "),t("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/modules.html#modules_loading_from_node_modules_folders",target:"_blank",rel:"noopener noreferrer"}},[e._v("Loading from "),t("code",[e._v("node_modules")]),e._v(" Folders"),t("OutboundLink")],1),e._v(".")])])}),[function(){var e=this._self._c;return e("h1",{attrs:{id:"nodejs-module-system"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-module-system"}},[this._v("#")]),this._v(" nodejs - module system")])},function(){var e=this._self._c;return e("blockquote",[e("ul",[e("li",[this._v("CommonJS to the rescue")]),this._v(" "),e("li",[this._v("How ES6 modules work and why Node.js hasnâ€™t implemented it yet")]),this._v(" "),e("li",[this._v("A note about Babel")]),this._v(" "),e("li",[this._v("Why ES6 modules are good and how to get the best of both worlds")])])])},function(){var e=this._self._c;return e("h2",{attrs:{id:"articles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#articles"}},[this._v("#")]),this._v(" articles")])},function(){var e=this._self._c;return e("h2",{attrs:{id:"tips-rules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tips-rules"}},[this._v("#")]),this._v(" tips & rules")])},function(){var e=this._self._c;return e("h3",{attrs:{id:"module-wrapper"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#module-wrapper"}},[this._v("#")]),this._v(" module wrapper")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("exports"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" require"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" __filename"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" __dirname")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Your module code actually lives in here")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])])},function(){var e=this._self._c;return e("p",[this._v("The CommonJS module system uses a "),e("strong",[this._v("runtime evaluation of the modules")]),this._v(", wrapping them into a function before the execution.")])},function(){var e=this._self._c;return e("h3",{attrs:{id:"modules-are-singleton"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modules-are-singleton"}},[this._v("#")]),this._v(" modules are singleton")])},function(){var e=this._self._c;return e("p",[this._v("Everytime you use "),e("code",[this._v("require('awesome-module')")]),this._v(", node returns the same instance. If you want to execute initialization code\nat each "),e("code",[this._v("require")]),this._v(" call, exports a "),e("code",[this._v("function")]),this._v(".")])},function(){var e=this._self._c;return e("h3",{attrs:{id:"module-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#module-types"}},[this._v("#")]),this._v(" module types")])},function(){var e=this._self._c;return e("h4",{attrs:{id:"core-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#core-module"}},[this._v("#")]),this._v(" core module")])},function(){var e=this._self._c;return e("p",[this._v("The node builtin modules ("),e("code",[this._v("http")]),this._v(", "),e("code",[this._v("assert")]),this._v(", ...).")])},function(){var e=this._self._c;return e("p",[this._v("They have priority over others modules. For example if a file module is "),e("code",[this._v("http.js")]),this._v(", "),e("code",[this._v("require('http');")]),this._v(" will result loading\nthe node "),e("code",[this._v("http")]),this._v(" module and not the file.")])},function(){var e=this._self._c;return e("h4",{attrs:{id:"file-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#file-module"}},[this._v("#")]),this._v(" file module")])},function(){var e=this._self._c;return e("p",[this._v("A required module prefixed with "),e("code",[this._v("'/'")]),this._v(" is an absolute path to the file. For example, "),e("code",[this._v("require('/home/marco/foo.js')")]),this._v(" will load the file at "),e("code",[this._v("/home/marco/foo.js")]),this._v(".")])},function(){var e=this._self._c;return e("p",[this._v("A required module prefixed with "),e("code",[this._v("'./'")]),this._v(" is relative to the file calling "),e("code",[this._v("require()")]),this._v(".")])},function(){var e=this,t=e._self._c;return t("p",[e._v("Without a leading "),t("code",[e._v("'/'")]),e._v(", "),t("code",[e._v("'./'")]),e._v(", or "),t("code",[e._v("'../'")]),e._v(" to indicate a file, the module must either be a core module or is loaded from a "),t("code",[e._v("node_modules")]),e._v(" folder.")])},function(){var e=this._self._c;return e("h4",{attrs:{id:"folder-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#folder-module"}},[this._v("#")]),this._v(" folder module")])},function(){var e=this._self._c;return e("p",[this._v("There are three ways in which a folder may be passed to "),e("code",[this._v("require()")]),this._v(" as an argument.")])},function(){var e=this._self._c;return e("h5",{attrs:{id:"folder-contains-a-default-index-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#folder-contains-a-default-index-js"}},[this._v("#")]),this._v(" folder contains a default "),e("code",[this._v("index.js")])])},function(){var e=this._self._c;return e("p",[this._v("If there is no "),e("code",[this._v("package.json")]),this._v(" file present in the directory, then node will attempt to load an "),e("code",[this._v("index.js")]),this._v(" out of that directory.")])},function(){var e=this._self._c;return e("p",[this._v("For example, if there was no "),e("code",[this._v("package.json")]),this._v(" file in the above example, then "),e("code",[this._v("require('./some-library')")]),this._v(" would attempt to load "),e("code",[this._v("./some-library/index.js")]),this._v(".")])},function(){var e=this._self._c;return e("h5",{attrs:{id:"folder-is-defined-with-a-package-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#folder-is-defined-with-a-package-json"}},[this._v("#")]),this._v(" folder is defined with a "),e("code",[this._v("package.json")])])},function(){var e=this._self._c;return e("p",[this._v("Create a "),e("code",[this._v("package.json")]),this._v(" file in the root of the folder, which specifies a main module.")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"some-library"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"main"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"./lib/some-library.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])},function(){var e=this._self._c;return e("p",[this._v("If this was in a folder at "),e("code",[this._v("./some-library")]),this._v(", then "),e("code",[this._v("require('./some-library')")]),this._v(" would attempt to load "),e("code",[this._v("./some-library/lib/some-library.js")]),this._v(".")])},function(){var e=this._self._c;return e("h5",{attrs:{id:"folder-is-in-a-node-modules-directory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#folder-is-in-a-node-modules-directory"}},[this._v("#")]),this._v(" folder is in a "),e("code",[this._v("node_modules")]),this._v(" directory")])},function(){var e=this._self._c;return e("p",[this._v("If node cannot load a default "),e("code",[this._v("index.js")]),this._v(" file nor find a "),e("code",[this._v("package.json")]),this._v(", it will search for "),e("code",[this._v("node_modules")]),this._v(" directory on the file system.")])}],!1,null,null,null);t.default=o.exports}}]);