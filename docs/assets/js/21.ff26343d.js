(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{343:function(a,e,t){"use strict";t.r(e);var s=t(33),r=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"heroku-helper"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#heroku-helper"}},[a._v("#")]),a._v(" heroku - helper")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://devcenter.heroku.com/articles/getting-started-with-play#test-locally",target:"_blank",rel:"noopener noreferrer"}},[a._v("Tuto play"),t("OutboundLink")],1),a._v(" but outdated (play 1.x)")]),a._v(" "),t("p",[a._v("Play infos ok")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://devcenter.heroku.com/articles/play-support#play-2-2",target:"_blank",rel:"noopener noreferrer"}},[a._v("devcenter.heroku.com : play-support#play-2-2"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"http://www.playframework.com/documentation/2.2.x/Production",target:"_blank",rel:"noopener noreferrer"}},[a._v("playframework.com : 2.2.x/Production"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"app-url"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#app-url"}},[a._v("#")]),a._v(" app url")]),a._v(" "),t("p",[t("code",[a._v("http://desolate-brook-9012.herokuapp.com/")])]),a._v(" "),t("h2",{attrs:{id:"database-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#database-config"}},[a._v("#")]),a._v(" database config")]),a._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("mysql://<username>:<pwd>@us-cdbr-east-04.cleardb.com/heroku_blablabla\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("Heroku commands to set up env var with user/pwd")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("heroku config:set "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PPRB_DB_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("username"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nheroku config:set "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PPRB_DB_PWD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("pwd"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h2",{attrs:{id:"mysql-tools-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-tools-config"}},[a._v("#")]),a._v(" mysql tools config")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://stackoverflow.com/questions/9822313/remote-connect-to-cleardb-heroku-database",target:"_blank",rel:"noopener noreferrer"}},[a._v("stackoverflow.com : remote-connect-to-cleardb-heroku-database"),t("OutboundLink")],1),a._v(" to configure mysql tools to reach prod database")])]),a._v(" "),t("h2",{attrs:{id:"commands"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commands"}},[a._v("#")]),a._v(" commands")]),a._v(" "),t("ul",[t("li",[a._v("créer une nouvelle app")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("heroku create\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("ul",[t("li",[a._v("lister les dyno installées et donner leur statut :")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("heroku "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("marco@debianmarco:~/dev/poc-play-rest-backend$ heroku "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" web "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("1X"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("target/start -Dhttp.port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("PORT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("JAVA_OPTS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" -DapplyEvolutions.default"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true -Ddb.default.driver"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("com.mysql.jdbc.Driver -Ddb.default.url"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("CLEARDB_DATABASE_URL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\nweb.1: crashed "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2014")]),a._v("/01/10 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(":57:53 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("~ 8m ago"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("ul",[t("li",[a._v("déployer le code de la branche courante sur heroku. Heroku build l'app sur cette base.")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push heroku master\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("ul",[t("li",[a._v("setter une seule dyno (gratuit)")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("heroku ps:scale "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("web")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("ul",[t("li",[a._v("from the project root dir to get logs from heroku in your play logs dir")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("heroku logs "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" logs/heroku.log\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"common-errors"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#common-errors"}},[a._v("#")]),a._v(" common errors")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("heroku bash: target/start: No such file or directory")])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://stackoverflow.com/questions/19085213/scala-play-2-2-application-crashes-after-deploying-in-heroku-target-start-no-su",target:"_blank",rel:"noopener noreferrer"}},[a._v("stackoverflow.com : crashes-after-deploying"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://discussion.heroku.com/t/bash-target-start-no-such-file-or-directory-error-after-upgrading-to-play-2-2/163",target:"_blank",rel:"noopener noreferrer"}},[a._v("discussion.heroku.com : no-such-file-or-directory"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[a._v("heroku <any_command> returns '! App not found' after renaming an app in dashboard")])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://stackoverflow.com/questions/7615807/renamed-heroku-app-from-website-now-its-not-found",target:"_blank",rel:"noopener noreferrer"}},[a._v("stackoverflow.com : heroku app not found"),t("OutboundLink")],1),a._v(" Need to update the remote entry in "),t("code",[a._v("project/.git/config")]),a._v(" file with the new name !!")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);