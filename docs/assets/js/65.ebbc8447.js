(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{438:function(t,e,a){"use strict";a.r(e);var s=a(33),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#modules"}},[t._v("#")]),t._v(" Modules")]),t._v(" "),a("h2",{attrs:{id:"sources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sources"}},[t._v("#")]),t._v(" sources")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://auth0.com/blog/javascript-module-systems-showdown/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript Module Systems Showdown: CommonJS vs AMD vs ES2015 - auth0.com/blog - 20160315"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://stackoverflow.com/questions/16521471/relation-between-commonjs-amd-and-requirejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("Relation between CommonJS, AMD and RequireJS? - stackoverflow.com - 20130513"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://putaindecode.io/fr/articles/frontend/2015-etat-lieux-javascript-modulaire/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript modulaire pour le front-end : les bases - putaindecode.io - 20141215"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://addyosmani.com/writing-modular-js/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Writing Modular JavaScript With AMD, CommonJS & ES Harmony - addyosmani.com - no date"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://medium.com/dailyjs/es6-modules-node-js-and-the-michael-jackson-solution-828dc244b8b",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES6 modules, Node.js and the Michael Jackson Solution - medium.com/dailyjs - 20170721"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://medium.freecodecamp.org/javascript-modules-a-beginner-s-guide-783f7d7a5fcc",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript Modules: A Beginner’s Guide - Preethi Kasireddy - 20160122"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.adequatelygood.com/JavaScript-Module-Pattern-In-Depth.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript Module Pattern: In-Depth - 20100312"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript",target:"_blank",rel:"noopener noreferrer"}},[t._v("The Module Pattern - Learning JavaScript Design Patterns - Addy Osmani 2017"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://youtu.be/KJzlllc7Jq8?t=1806",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES6+ maintenant ! (Christophe Porteneuve) - Devoxx2016"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://youtu.be/k0_gi7BoBgw?t=475",target:"_blank",rel:"noopener noreferrer"}},[t._v("État de l'art de ES2015+ dans Node.js et le navigateur (Christophe Porteneuve) - Blend Web Mix 2016"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://dontkry.com/posts/code/browserify-and-the-universal-module-definition.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Browserify and the Universal Module Definition - 20130614"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.leanpanda.com/blog/2015/06/28/amd-requirejs-commonjs-browserify/",target:"_blank",rel:"noopener noreferrer"}},[t._v("BazaarJS: Module loaders e package managers - 20150628"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("nice UMD ex")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://medium.com/the-node-js-collection/the-current-state-of-implementation-and-planning-for-esmodules-a4ecb2aac07a",target:"_blank",rel:"noopener noreferrer"}},[t._v("The Current State of Implementation and Planning for ESModules - Node.js Foundation - 20171212"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("We are committed to shipping ESM")]),t._v(" "),a("li",[t._v("We are committed to ESM being first class in Node.js")]),t._v(" "),a("li",[t._v("We are committed to having the Node.js and Web platform as first class runtimes for modules. Modules installed via npm should be able to run after installation without requiring a build step.")]),t._v(" "),a("li",[t._v("We are committed to supporting our current users and offering migration paths as necessary. This can be through interoperability or APIs to improve the developer experience of working between module systems.")])])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://caniuse.com/#feat=es6-module",target:"_blank",rel:"noopener noreferrer"}},[t._v("can i use modules in browsers"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.sitepen.com/blog/2017/10/26/state-of-modules-in-javascript/",target:"_blank",rel:"noopener noreferrer"}},[t._v("State of Modules in JavaScript - 20171026"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("focus on ES6 modules")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES modules: A cartoon deep-dive - hacks.mozilla.org - 20180328"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://tech.mozfr.org/post/2018/04/06/Une-plongee-illustree-dans-les-modules-ECMAScript",target:"_blank",rel:"noopener noreferrer"}},[t._v("Une plongée illustrée dans les modules ECMAScript - tech.mozfr.org - 20180406 - trad fr de l'article précédent"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("deep description of ES6 modules")])]),t._v(" "),a("h2",{attrs:{id:"why"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#why"}},[t._v("#")]),t._v(" why")]),t._v(" "),a("ul",[a("li",[t._v("linking dependencies together (in JavaScript world it is just files and it does this with global var by default)")]),t._v(" "),a("li",[t._v("encapsulation to prevent conflicts")]),t._v(" "),a("li",[t._v("managing cycling ref (A deps on B who deps on C who deps on A)")]),t._v(" "),a("li",[t._v("in regular JS import order matters and it is hard to maintain")])]),t._v(" "),a("p",[t._v("// TODO refaire les exemples avec la fonction add de lodash")]),t._v(" "),a("h2",{attrs:{id:"iife"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iife"}},[t._v("#")]),t._v(" IIFE")]),t._v(" "),a("p",[t._v("check "),a("a",{attrs:{href:"http://falola.developpez.com/tutoriels/javascript/namespace/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://falola.developpez.com/tutoriels/javascript/namespace/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("// check "),a("a",{attrs:{href:"https://zestedesavoir.com/tutoriels/358/module-pattern-en-javascript/#p83162",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://zestedesavoir.com/tutoriels/358/module-pattern-en-javascript/#p83162"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// my-module.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myModule "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n\nmyModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("h2",{attrs:{id:"amd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#amd"}},[t._v("#")]),t._v(" AMD")]),t._v(" "),a("p",[t._v("AMD is for Asynchronous Module Definition. There is "),a("a",{attrs:{href:"https://github.com/amdjs/amdjs-api/blob/master/AMD.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("a specification"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("Main advantage over CommonJS : Async support.")]),t._v(" "),a("p",[t._v("The AMD module format itself is a proposal for defining modules where both the module and dependencies can be asynchronously loaded.")]),t._v(" "),a("p",[t._v("This is designed to be used in browsers.")]),t._v(" "),a("p",[t._v("AMD module can be JavaScript object, function, constructor, string, but also files (JSON, css, ...)")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// add.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    add"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" add\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("ul",[a("li",[a("code",[t._v("define")]),t._v(" method for facilitating module definition")]),t._v(" "),a("li",[a("code",[t._v("require")]),t._v(" method for handling dependency loading")])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("define")]),t._v(" signature is :")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    module_id "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*optional*/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dependencies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*optional*/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    definition "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*function for instantiating the module or object*/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("ul",[a("li",[t._v("The "),a("code",[t._v("module_id")]),t._v(" string is the module name.")]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("dependencies")]),t._v(" array describe the deps to be injected in the "),a("code",[t._v("definition")]),t._v(" function.")]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("definition")]),t._v(" function is a callback called by "),a("code",[t._v("define")]),t._v(" when the deps are loaded.")])]),t._v(" "),a("p",[t._v("AMD has several implementation :")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://requirejs.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("RequireJS"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://github.com/unscriptable/curl",target:"_blank",rel:"noopener noreferrer"}},[t._v("curl.js"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://bdframework.com/bdLoad",target:"_blank",rel:"noopener noreferrer"}},[t._v("bdLoad"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://github.com/jbrantly/yabble",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yabble"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://github.com/pinf/loader-js",target:"_blank",rel:"noopener noreferrer"}},[t._v("PINF"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"commonjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs"}},[t._v("#")]),t._v(" CommonJS")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.commonjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("commonjs.org"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("The CommonJS module proposal specifies a simple API for declaring modules server-side.")]),t._v(" "),a("p",[t._v("Main advantage over AMD : Compact declarative syntax.")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("exports")]),t._v(" contains the objects a module wishes to make available to other modules")]),t._v(" "),a("li",[a("code",[t._v("require")]),t._v(" function that modules can use to import the exports of other modules.")])]),t._v(" "),a("p",[t._v("CommonJS is the builtin "),a("strong",[t._v("Node.js")]),t._v(" module system.")]),t._v(" "),a("p",[t._v("A module exports can only be a JavaScript object. "),a("a",{attrs:{href:"https://nodejs.org/dist/latest-v8.x/docs/api/modules.html#modules_module_exports",target:"_blank",rel:"noopener noreferrer"}},[t._v("See Node.js doc"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("A module is automatically wrapped in an anonymous function :")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" __filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" __dirname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Module code actually lives in here")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("So top level variables in a CommonJS module are scoped to the module rather than the global object.")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://nodejs.org/dist/latest-v8.x/docs/api/modules.html#modules_the_module_wrapper",target:"_blank",rel:"noopener noreferrer"}},[t._v("See Node.js doc"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Notice that Node.js is caching exports, so if you exports a primitive, the value is copied by value. "),a("a",{attrs:{href:"https://stackoverflow.com/questions/38972252/how-does-commonjs-make-two-copies-during-its-export-and-require-process",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cf this stackoverflow question"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://browserify.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Browserify"),a("OutboundLink")],1),t._v(" is a tool built to use CommonJS for frontend development. He reads all the source files, following\nthe require instruction, and concat all files in a single one (a "),a("em",[t._v("bundle")]),t._v(") to be linked in the app.")]),t._v(" "),a("p",[t._v("The verbose AMD syntax is not needed anymore, and we can have consistency in modules definitions between frontend and backend.")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// add.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" add "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h2",{attrs:{id:"es6-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6-modules"}},[t._v("#")]),t._v(" ES6 Modules")]),t._v(" "),a("p",[t._v("The "),a("a",{attrs:{href:"http://www.ecma-international.org/memento/TC39.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("TC39"),a("OutboundLink")],1),t._v(" proposal for a single module definition for frontend and backen JavaScript.")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// add.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" add "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./add.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("ul",[a("li",[a("code",[t._v("import")]),t._v(" declarations bind a modules exports as local variables and may be renamed to avoid name collisions/conflicts.")]),t._v(" "),a("li",[a("code",[t._v("export")]),t._v(" declarations declare that a local-binding of a module is externally visible such that other modules may read the exports but can't modify them. Modules may export child modules but can't export modules that have been defined elsewhere.")])]),t._v(" "),a("p",[t._v("ES6 creates a live read-only view of the modules we import. A primitive exposed outside with "),a("code",[t._v("export")]),t._v(" is the same variable read from outside with "),a("code",[t._v("import")]),t._v(".")])])}),[],!1,null,null,null);e.default=n.exports}}]);