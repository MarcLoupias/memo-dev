(window.webpackJsonp=window.webpackJsonp||[]).push([[203],{522:function(e,t,s){"use strict";s.r(t);var r=s(33),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"cypress-e2e-solution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cypress-e2e-solution"}},[e._v("#")]),e._v(" cypress e2e solution")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),s("OutboundLink")],1)]),e._v(" "),s("ul",[s("li",[e._v("alternative to phantomJs, Karma, Selenium, ...")]),e._v(" "),s("li",[e._v("in private beta (still in 2017)")]),e._v(" "),s("li",[e._v("not already opensource "),s("a",{attrs:{href:"https://www.cypress.io/blog/2017/05/04/cypress-is-going-open-source/",target:"_blank",rel:"noopener noreferrer"}},[e._v("but coming"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.cypress.io/blog/2017/10/10/cypress-is-now-public-beta/",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[e._v("it's done ðŸ˜ƒ")]),s("OutboundLink")],1)])]),e._v(" "),s("h2",{attrs:{id:"features-and-objectives"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#features-and-objectives"}},[e._v("#")]),e._v(" features and objectives")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("fast")]),e._v(" (running as fast as unit testing)")]),e._v(" "),s("li",[s("strong",[e._v("reliable")]),e._v(" (no inconsistent errors like in Selenium) (inconsistents errors examples in "),s("a",{attrs:{href:"http://samsaccone.com/posts/fixing-the-flake.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Fixing the flake on CI : http://samsaccone.com"),s("OutboundLink")],1),e._v(")")]),e._v(" "),s("li",[s("strong",[e._v("rewindable")]),e._v(" (you can see what the test was doing step by step)")])]),e._v(" "),s("h3",{attrs:{id:"trade-offs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trade-offs"}},[e._v("#")]),e._v(" trade offs")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/cypress-io/cypress-documentation/issues/162",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress Trade Offs"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("##Â environment and browser support")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/cypress-io/cypress/issues/310",target:"_blank",rel:"noopener noreferrer"}},[e._v("Proposal: Support for Cross Browser Testing"),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("we only support Chrome variants such as "),s("code",[e._v("Chrome")]),e._v(", "),s("code",[e._v("Chromium")]),e._v(", and "),s("code",[e._v("Canary")]),e._v(".")]),e._v(" "),s("p",[e._v("We will be adding cross browser support likely by EOY. (20171017) Firefox, Safari then Edge.")])]),e._v(" "),s("h3",{attrs:{id:"native-browsers-events-support"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#native-browsers-events-support"}},[e._v("#")]),e._v(" native browsers events support")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/cypress-io/cypress/issues/311",target:"_blank",rel:"noopener noreferrer"}},[e._v("Support for Native Browser Events"),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("From there we'll add new commands for file uploads, etc.")])]),e._v(" "),s("h2",{attrs:{id:"installing-with-npm-behind-a-proxy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-with-npm-behind-a-proxy"}},[e._v("#")]),e._v(" installing with npm behind a proxy")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/cypress-io/cypress/issues/733",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm install not working behind corporate firewall"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/cypress-io/cypress-documentation/issues/121",target:"_blank",rel:"noopener noreferrer"}},[e._v("Document CYPRESS_BINARY_VERSION environment variable"),s("OutboundLink")],1)])]),e._v(" "),s("h2",{attrs:{id:"comparison-cypress-vs-testcafe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#comparison-cypress-vs-testcafe"}},[e._v("#")]),e._v(" comparison Cypress vs TestCafe")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://medium.com/yld-engineering-blog/evaluating-cypress-and-testcafe-for-end-to-end-testing-fcd0303d2103",target:"_blank",rel:"noopener noreferrer"}},[e._v("Evaluating Cypress and TestCafe for end to end testing - medium.com/yld-engineering-blog - 20180329"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://testcafe-discuss.devexpress.com/t/compare-to-cypress-io/490/2",target:"_blank",rel:"noopener noreferrer"}},[e._v("Compare to Cypress.io - testcafe-discuss.devexpress.com - 20171010"),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("with post by TestCafe dev")])]),e._v(" "),s("h2",{attrs:{id:"usage-and-recommandations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage-and-recommandations"}},[e._v("#")]),e._v(" usage and recommandations")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/cypress-io/cypress/issues/431#issuecomment-339710315",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress slows down drastically over long runs - restart renderer between spec files?"),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("You cannot run all of your tests. The GUI is a mode built specifically to run one or a small number of tests at a time.")]),e._v(" "),s("p",[e._v("you can tell Cypress to cleanup snapshots by setting the "),s("code",[e._v("{ numTestsKeptInMemory: 0 }")]),e._v(" in "),s("code",[e._v("cypress.json")]),e._v(". This will purge snapshots aggressively but then you will lose the ability to debug any of your tests.")]),e._v(" "),s("p",[e._v("If you want to run all your tests you need to do it from the command line using "),s("code",[e._v("cypress run")]),e._v(". In that mode it makes specific performance optimizations (like not taking snapshots) because it knows you're not iterating on a test or working with the results.")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/cypress-io/cypress/issues/990",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tests slows down to a crawl and eventually times out/crashes"),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("The reason Cypress is crashing and chrome headless isn't is because of the additional features Cypress provides that no other testing tool does. In this case it's the time travel functionality.")]),e._v(" "),s("p",[e._v("Cypress has two basic modes of operation: GUI mode & CLI mode")]),e._v(" "),s("p",[e._v("GUI mode is optimized for "),s("strong",[e._v("debugging")]),e._v(" and CLI mode is optimized for "),s("strong",[e._v("running")]),e._v(".")]),e._v(" "),s("p",[e._v("The reason Cypress is slowing down and crashing is because in GUI mode it takes snapshots for "),s("strong",[e._v("very single command")]),e._v(".")]),e._v(" "),s("p",[s("code",[e._v("window")]),e._v(" and "),s("code",[e._v("document")]),e._v(" are being preserved in memory for every single page transition. This is where it chews up memory and you'll experience those slow downs and crashes.")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/cypress-io/cypress/issues/1011",target:"_blank",rel:"noopener noreferrer"}},[e._v("My test passes "),s("code",[e._v("cypress open")]),e._v(" but fails with "),s("code",[e._v("cypress run")]),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("One is running in Chrome, the other is running in Chromium (Electron). There are differences in these browsers.")]),e._v(" "),s("p",[e._v("Cf "),s("a",{attrs:{href:"https://docs.cypress.io/guides/guides/launching-browsers.html#Electron-Browser",target:"_blank",rel:"noopener noreferrer"}},[e._v("documentation - Launching Browsers : Electron Browser"),s("OutboundLink")],1)])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.cypress.io/guides/references/best-practices.html#Selecting-Elements",target:"_blank",rel:"noopener noreferrer"}},[e._v("doc off best practices - selectors (need cypress 2.1+)"),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("Use "),s("code",[e._v("data-*")]),e._v(" attributes to provide context to your selectors and insulate them from CSS or JS changes.")])]),e._v(" "),s("h2",{attrs:{id:"login"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#login"}},[e._v("#")]),e._v(" login")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.cypress.io/guides/references/best-practices.html#Visiting-External-Sites",target:"_blank",rel:"noopener noreferrer"}},[e._v("Best Practices - Visiting External Sites"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.cypress.io/guides/guides/web-security.html#External-Navigation",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web Security - External Navigation"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.cypress.io/guides/guides/web-security.html#Form-Submission-Redirects",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web Security - Form Submission Redirects"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://vrockai.github.io/blog/2017/10/28/cypress-keycloak-intregration/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress.io Keycloak Integration : 20171028"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"how-a-test-works"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-a-test-works"}},[e._v("#")]),e._v(" how a test works")]),e._v(" "),s("h3",{attrs:{id:"selenium"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#selenium"}},[e._v("#")]),e._v(" selenium")]),e._v(" "),s("p",[e._v("Between each action we wait a defined amount of time to be sure the browsers have rendered the DOM needed for the test.")]),e._v(" "),s("h3",{attrs:{id:"cypress"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cypress"}},[e._v("#")]),e._v(" cypress")]),e._v(" "),s("p",[e._v("Cypress runs "),s("a",{attrs:{href:"https://docs.cypress.io/guides/references/trade-offs.html#Inside-the-browser",target:"_blank",rel:"noopener noreferrer"}},[e._v("inside the browser"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("p",[e._v("The test suite execute the script and queue all the commands. Then cypress run everything in the same order. Cypress execute the first command and retry until success or fail (defined timeout). This modus operandi is way faster then selenium.")]),e._v(" "),s("p",[e._v("Each command takes a snapshot of the current DOM.")]),e._v(" "),s("p",[e._v("Numerous commands contains their own embedded assertions.")]),e._v(" "),s("p",[e._v("See "),s("a",{attrs:{href:"https://docs.cypress.io/guides/core-concepts/introduction-to-cypress.html#Commands-Are-Asynchronous",target:"_blank",rel:"noopener noreferrer"}},[e._v("core concepts documentation > Chains of Commands > Commands Are Asynchronous"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"articles"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#articles"}},[e._v("#")]),e._v(" articles")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://glebbahmutov.com/blog/web-testing-nirvana-with-cypress/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web testing nirvana with Cypress"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.cypress.io/docs/installing-and-running",target:"_blank",rel:"noopener noreferrer"}},[e._v("Installing and Running"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.cypress.io/blog/2017/11/15/Control-Angular-Application-From-E2E-Tests/#Element-scope",target:"_blank",rel:"noopener noreferrer"}},[e._v("Control an AngularJS Application From E2E Tests : 20171115"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"slides"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#slides"}},[e._v("#")]),e._v(" slides")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://speakerdeck.com/christiancatalan/testing-vue-apps-with-cypress-dot-io-stljs-meetup-april-2018",target:"_blank",rel:"noopener noreferrer"}},[e._v("Testing Vue Apps with Cypress.io (STLJS Meetup April 2018) - Christian Catalan - 20180419"),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("awesome context, excellent slides")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://speakerdeck.com/jennifershehane/automated-testing-for-the-modern-web",target:"_blank",rel:"noopener noreferrer"}},[e._v("Automated Testing for the Modern Web - Jennifer Jeshane - 20180509"),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("good e2e history prez")])]),e._v(" "),s("p",[e._v("##Â videos")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.youtube.com/watch?v=lK_ihqnQQEM",target:"_blank",rel:"noopener noreferrer"}},[e._v("Brian Mann, Testing the way it should be : ReactiveConf 2016"),s("OutboundLink")],1)]),e._v(" "),s("blockquote",[s("p",[e._v("Brian Mann creator of "),s("code",[e._v("cypress.io")])]),e._v(" "),s("p",[e._v("cypress is a testing tool running entirely in JavaScript")]),e._v(" "),s("p",[s("strong",[e._v("Why another testing tool ?")])]),e._v(" "),s("p",[e._v("Sharing is own experience in the first part :")]),e._v(" "),s("ul",[s("li",[e._v("9 years developping webapp including 5 with testing")]),e._v(" "),s("li",[e._v("testing is too hard")]),e._v(" "),s("li",[e._v("tools are too old (selenium is born in 2004, "),s("a",{attrs:{href:"http://www.seleniumhq.org/about/history.jsp",target:"_blank",rel:"noopener noreferrer"}},[e._v("cf Selenium history"),s("OutboundLink")],1),e._v(")")]),e._v(" "),s("li",[e._v("needs a dedicated Q/A team to works well")]),e._v(" "),s("li",[e._v("Brian talks to a lot of developpers to know what they need in remplacement of actual tools")])]),e._v(" "),s("p",[s("strong",[e._v("What developpers needs ?")])]),e._v(" "),s("p",[e._v("3 recurring things developpers finds challenging :")]),e._v(" "),s("ul",[s("li",[e._v("Setup (sane config, less hassle to set up, etc ...)")]),e._v(" "),s("li",[e._v("Writing (Simpler to write, testing responsive, see visually what broke, async, etc ...)")]),e._v(" "),s("li",[e._v("Management (clear and direct way to understand WHY a test have failed)")])]),e._v(" "),s("p",[e._v("Selenium (or webdriver) is the core tool. Embedded in Protractor, Nightwatch, ...")]),e._v(" "),s("p",[e._v("At that time, all the webapp were simple and staless (full page refresh at each user action). JavaScript was not to\nbuild webapp but to decorate existing webapp. Most of the code was synchronous. Nowadays, there is SPA, stateful,\nno page refresh and everything is asynchronous.")]),e._v(" "),s("p",[e._v("Selenium original flaw is : it is a stateless http API. It is impossible to test effectively a stateful app with\na stateless API. Selenium cannot know and show a particular state at a particular moment.")]),e._v(" "),s("p",[e._v("This forces dev to build tests (e2e) after everything is built (impossible to TDD)")]),e._v(" "),s("p",[s("strong",[e._v("How cypress solves the problem ?")])]),e._v(" "),s("p",[e._v("Part 1: Setup")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g cypress-cli "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" cypress\n\ncypress "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("open")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("p",[e._v("You are done. You can write your first test.")]),e._v(" "),s("p",[e._v("Part 2: Writing")]),e._v(" "),s("p",[e._v("Working on reporting, when a assertion pass, and when it fail. Lot's of information for the developer.")]),e._v(" "),s("p",[e._v("Snapshoting : Every command ran by cypress takes a snapshot of the DOM. You can open your dev tools and check\nthe logs pushed by cypress with the state of the app.")]),e._v(" "),s("p",[e._v("Events : They are captured during execution an logged into the console.")]),e._v(" "),s("p",[e._v("Frameworks : Cypress is built on top of "),s("a",{attrs:{href:"https://mochajs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mocha"),s("OutboundLink")],1),e._v(", "),s("a",{attrs:{href:"http://chaijs.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Chai"),s("OutboundLink")],1),e._v(" and "),s("a",{attrs:{href:"http://sinonjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sinon"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("p",[e._v("Async : Mostly hidden, each command return promise under the hood.")]),e._v(" "),s("p",[e._v("Hooks : "),s("code",[e._v("onBeforeLoad")]),e._v(" hook for "),s("code",[e._v("cy.visit")]),e._v(" command allows developer to : open the browser debugger, alter the global\nstate of the app (for example by injecting user info or tokens).\nYou can stub server responses (very nice to tests error messages and related ui behavior)")]),e._v(" "),s("p",[e._v("Part 3: Management")]),e._v(" "),s("p",[e._v("CI related. When a test suite will be ran in a CI provider (TravisCI for ex), output will be sent to cypress,\nthen cypress will sent it back to cypress desktop app.")]),e._v(" "),s("p",[e._v("Can output logs, screenshots, even video of the suite")]),e._v(" "),s("p",[e._v("Ability to remote connect to the CI to see and manage the suite run.")]),e._v(" "),s("p",[s("strong",[e._v("Goals for cypress")])]),e._v(" "),s("ul",[s("li",[e._v("Open Source")]),e._v(" "),s("li",[e._v("Champions")]),e._v(" "),s("li",[e._v("Documentation")]),e._v(" "),s("li",[e._v("Happiness")])]),e._v(" "),s("p",[s("strong",[e._v("Roadmap")])]),e._v(" "),s("p",[e._v("They are only 5. They have raised some money. Not all repo are opensource now.")]),e._v(" "),s("p",[s("strong",[e._v("Questions")])]),e._v(" "),s("p",[e._v("Not supporting IE right now, it will. (Brian thinks crossbrowser testing is going down because there is less and less\ndifference between browsers).")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.youtube.com/watch?v=KBhHsYlF4mQ",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jack Franklin, Testing React Applications : React Amsterdam 2016"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);