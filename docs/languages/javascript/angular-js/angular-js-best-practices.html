<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui"><meta name="robots" content="none"><title>marlou knowledge base</title><link href="/github-markdown.7d1fca7c.css" rel="stylesheet" media="all"><link href="/main.4b9cca7f.css" rel="stylesheet" media="all"><link href="/github.8c766760.css" rel="stylesheet"><script src="/docs.39594acf.js"></script></head><body><article class="markdown-body"><h1 id="title-angularjs---best-practices">AngularJS - best practices</h1>
<h2 id="title-regles-generales-basiques">REGLES GENERALES BASIQUES</h2>
<ul>
<li>Un fichier de source par ctrl / serv / direc</li>
<li>Pas de logique dans les ctrl</li>
<li>Pas de regles metier dans les templates. Passer par des services.</li>
<li>95% du code de l’appli doit être dans des services et couvert pas des TU</li>
<li>Pas de manipulation du DOM ailleurs que dans une directive (compile ou link)</li>
<li>follow <a href="https://github.com/toddmotto/angularjs-styleguide">angularjs-styleguide</a></li>
</ul>
<h2 id="title-de-jquery-a-angularjs">DE JQUERY A ANGULARJS</h2>
<ul>
<li><a href="http://bigint.fr/blog/2013-12-18/AngularJS-pour-les-developpeurs-jQuery">AngularJS-pour-les-developpeurs-jQuery</a></li>
</ul>
<h2 id="title-coding-style">CODING STYLE</h2>
<ul>
<li><a href="https://google-styleguide.googlecode.com/svn/trunk/angularjs-google-style.html">angularjs-google-style</a></li>
<li><a href="https://medium.com/@bluepnume/sane-scalable-angular-apps-are-tricky-but-not-impossible-lessons-learned-from-paypal-checkout-c5320558d4ef#.epy69vvcr">Règles chez Paypal</a></li>
<li><a href="https://github.com/angular/angular.js/wiki/Best-Practices">Best-Practices</a></li>
<li><a href="https://github.com/johnpapa/angular-styleguide">angular-styleguide (John Papa)</a></li>
<li><a href="https://github.com/mgechev/angularjs-style-guide">angular-styleguide (Minko Gechev)</a></li>
<li><a href="https://github.com/toddmotto/angularjs-styleguide">angularjs-styleguide (Todd Motto)</a></li>
<li><a href="http://toddmotto.com/opinionated-angular-js-styleguide-for-teams/">opinionated-angular-js-styleguide-for-teams (Todd Motto)</a></li>
</ul>
<h2 id="title-git">git</h2>
<p>[AngularJS Git Commit Message] (<a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit?pli=1">https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit?pli=1</a>)</p>
<h2 id="title-module-declaration">MODULE DECLARATION</h2>
<ul>
<li><a href="http://toddmotto.com/minimal-angular-module-syntax-approach-using-an-iife/">IIFE</a></li>
</ul>
<h2 id="title-minification">MINIFICATION</h2>
<ul>
<li><a href="https://github.com/btford/ngmin">ngmin</a></li>
</ul>
<h2 id="title-controllers-usage">CONTROLLERS USAGE</h2>
<ul>
<li><a href="http://toddmotto.com/rethinking-angular-js-controllers/">rethinking-angular-js-controllers (Todd Motto)</a></li>
</ul>
<h2 id="title-form-validation">form validation</h2>
<p>[big resume] (<a href="http://www.ng-newsletter.com/posts/validations.html">http://www.ng-newsletter.com/posts/validations.html</a>)</p>
<h2 id="title-scaffolding">SCAFFOLDING</h2>
<p>best scaffolding practices for generator-angular discussed <a href="https://github.com/yeoman/generator-angular/issues/109">here</a> related to <a href="https://docs.google.com/document/d/1XXMvReO8-Awi1EZXAXS4PzDzdNvV6pGcuaF4Q9821Es/pub">Angular Best Practice for App Structure (Google doc)</a></p>
<h2 id="title-scaffolding-comparison-this-guy-is-insane">SCAFFOLDING COMPARISON (this guy is insane)</h2>
<ul>
<li><a href="http://www.dancancro.com/comparison-of-angularjs-application-starters/">comparison-of-angularjs-application-starters</a></li>
<li><a href="https://docs.google.com/spreadsheets/d/1r8rJy2Q5p5QORYKcye93UECwOlSgFL24c5fyF7dqhaM/edit?pli=1#gid=1607194899">comparison spreadsheet ? (need to be logged in gmail)</a></li>
</ul>
<h2 id="title-architecture">ARCHITECTURE</h2>
<p><a href="https://ngcourse-1.rangle.io/index.html">Introduction to Angular 1.x and ngCourse</a></p>
<p><a href="https://angular-2-training-book.rangle.io/">Rangle’s Angular Training Book</a></p>
<h2 id="title-w3c-validation">w3c-validation</h2>
<p>[should-i-care-about-w3c-validation] (<a href="http://stackoverflow.com/questions/18607437/should-i-care-about-w3c-validation">http://stackoverflow.com/questions/18607437/should-i-care-about-w3c-validation</a>)</p>
<h2 id="title-preparer-migration-angular-2">PREPARER MIGRATION ANGULAR 2</h2>
<ul>
<li><a href="http://www.codelord.net/2015/10/07/angular-2-preparation-killing-controllers/">angular-2-preparation-killing-controllers</a></li>
</ul>
<h2 id="title-managing-a-model-layer">MANAGING A MODEL LAYER</h2>
<ul>
<li><a href="https://medium.com/opinionated-angularjs/angular-model-objects-with-javascript-classes-2e6a067c73bc#.rscv8l8qv">angular-model-objects-with-javascript-classes</a></li>
</ul>
<h2 id="title-au-secours-mon-code-angularjs-est-pourri----thierry-chatel-devoxx-2014">Au secours, mon code AngularJS est pourri ! - Thierry Chatel, Devoxx 2014</h2>
<p><a href="https://www.youtube.com/watch?v=OccKqXj0kTM">video de la conf</a></p>
<ul>
<li>attention aux composants</li>
</ul>
<p>bcp de composants opensource, certains sont bons, d’autres très mauvais</p>
<ul>
<li>ne pas optimiser (sauf quand VRAIMENT nécessaire)</li>
</ul>
<p>il propose de publier dans la vue avec des fonctions (donc plusieurs calculs à chaque digest)</p>
<ul>
<li>travailler le modèle</li>
</ul>
<p>il parle du view model, et recommande donc de préparer le modèle à publier dans la vue et de ne pas publier directement<br>le json</p>
<p>ne veut pas stocker non plus les données à publier dans le modèle</p>
<ul>
<li>service dans le scope</li>
</ul>
<p>si beaucoup d’usage de fonctions d’un service dans une vue, se simplifier la vie et publier directement l’instance du<br>service, ou bien écrire un service de façade ne contenant que la partie à publier</p>
<ul>
<li>structure de la webapp</li>
</ul>
<p>ne pas organiser par type (controller/ directives/ services/ etc …).</p>
<p>découpage fonctionnel, en bout de ligne découper en controller, directives, services.</p>
<p>1 fichier js = 1 module</p>
<ul>
<li>contrôleur</li>
</ul>
<p>initialise le scope et rien d’autre.</p>
<p>sert à effectuer les bindings et c’est tout.</p>
<p>pas de traitement</p>
<p>pas de requetes http</p>
<p>liaison entre services et scope</p>
<p>doivent rester légers</p>
<p>syntaxe controllerAs</p>
<ul>
<li>services</li>
</ul>
<p>contient tout le code métier et une bonne partie du code de présentation</p>
<p>pas de règles métiers dans les templates</p>
<p>permettent de conserver des données (car service = singleton) globales</p>
<p>si données concernent seulement une vue, ne pas les conserver et simplement les renvoyer.</p>
<p>utiliser les promesses pour les services asynchrones</p>
<p>découper les services en couches</p>
<ul>
<li>promesses</li>
</ul>
<p>code unique qu’on soit en sync ou async</p>
<p>ne travailler que sur les promesses et pas les résultats</p>
<p>en cas d’échec : soit promesse en erreur soit throw une exception</p>
<ul>
<li>filtres</li>
</ul>
<p>ne jamais modifier les données en entrée</p>
<ul>
<li>directives</li>
</ul>
<p>priviléger les bindings aux maniplations du DOM</p>
<p>s’appuyer sur le html plutôt que de le remplacer ou de le générer</p>
<p>attributs html = interface de la directive</p>
<p>pas d’héritage implicite des données du scope, on passe par un attr de la directive</p>
<p>scope isolé</p>
<ul>
<li>tests</li>
</ul>
<p>doit être aussi propre que le code applicatif</p>
<p>imbriquer les describe pour avoir des beforeEach communs (factorisation du code des tests) valable en e2e</p>
<p>e2e : factoriser les elementFinder</p>
<p><strong>conclusion</strong></p>
<p>faire simple :</p>
<ul>
<li>partir du html</li>
<li>bien connaitre js</li>
<li>faire un vrai modèle objet (bonnes pratiques POO)</li>
</ul>
</article></body></html>