<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui"><meta name="robots" content="none"><title>marlou knowledge base</title><link href="/github-markdown.7d1fca7c.css" rel="stylesheet" media="all"><link href="/main.4b9cca7f.css" rel="stylesheet" media="all"><link href="/github.8c766760.css" rel="stylesheet"><script src="/docs.a092d0a1.js"></script></head><body><article class="markdown-body"><h1 id="title-angularjs---components">AngularJS - components</h1>
<h2 id="title-i---guides">I - guides</h2>
<p><a href="https://docs.angularjs.org/guide/component">angular official component devguide</a></p>
<p><a href="https://teropa.info/blog/2015/10/18/refactoring-angular-apps-to-components.html">Refactoring Angular Apps to Component Style : teropa.info</a></p>
<p><a href="https://toddmotto.com/angular-1-5-lifecycle-hooks">Lifecycle hooks in Angular 1.5 : toddmotto.com</a></p>
<blockquote>
<p>Jun 3, 2016</p>
<ul>
<li>$onInit<ul>
<li>Using $onInit</li>
<li>$onInit + “require”</li>
<li>Real world $onInit + “require”</li>
</ul>
</li>
<li>$postLink<ul>
<li>Using $postLink</li>
<li>Real world $postLink</li>
<li>What $postLink is not</li>
</ul>
</li>
<li>$onChanges<ul>
<li>What calls $onChanges?</li>
<li>Using $onChanges</li>
<li>Cloning “change” hashes for “immutable” bindings</li>
<li>One-way dataflow + events</li>
<li>Is two-way binding through “=” syntax dead?</li>
<li>Using isFirstChange()</li>
</ul>
</li>
<li>$onDestroy<ul>
<li>Using $onDestroy</li>
</ul>
</li>
</ul>
</blockquote>
<p><a href="https://toddmotto.com/one-way-data-binding-in-angular-1-5/">One-way data-binding in Angular 1.5 : toddmotto.com</a></p>
<blockquote>
<p>With a parent / child relation ship between component where the parent pass data to the child, it is the practice of binding uni-directionnal instead of bi-directionnal.</p>
<p>bi-directionnal (two way) is <code>bindings: { obj: &#39;=&#39; }</code><br>uni-directionnal (one way) is <code>bindings: { obj: &#39;&lt;&#39; }</code></p>
<p>Using one way binding break the link with the parent scope. So the child cannot mutate the parent state.</p>
<p><code>/!\</code> If an object reference is bound to the child from the parent, if the child mutate a property it will work like two way binding.</p>
<p>Another way to exprime difference between two-way and one-way bindings is : </p>
<ul>
<li>One way binding is binding the data from the model to the view.</li>
<li>Two way binding is binding the data from the model to the view and the view to the model. (Also called <strong>MVVM</strong>)</li>
</ul>
</blockquote>
<h2 id="title-ii---best-practices">II - best practices</h2>
<h3 id="title-a---todd-motto-best-practices">A - Todd Motto best practices</h3>
<p><a href="https://github.com/toddmotto/angularjs-styleguide#components">Todd Motto best practices</a></p>
<ul>
<li><p>one-way data flow </p>
<ul>
<li>data goes from the top level component to the lower levels.</li>
<li>child components modifications on bindings doesn’t reflect on parents components.</li>
<li>callback function are used to handle events, they are used to update the parents components data modified by children.</li>
</ul>
</li>
<li><p>stateful components</p>
<ul>
<li>referred to as <strong>smart/container components</strong></li>
<li><em>how things work</em></li>
<li>fetches state (through API, so no <code>bindings</code>)</li>
<li>does not directly mutate state</li>
<li>renders child components that mutate state</li>
<li>the classic case is a view component for example an entity list</li>
</ul>
</li>
<li><p>stateless components</p>
<ul>
<li>referred to as <strong>dumb/presentational components</strong></li>
<li><em>how things look</em></li>
<li>has defined inputs and outputs using <code>bindings: {}</code></li>
<li>data enters the component through attribute bindings (<strong>inputs</strong>)</li>
<li>data leaves the component through events (<strong>outputs</strong>)</li>
<li>mutates state, passes data back up on-demand (such as a click or submit event)</li>
<li>doesn’t care where data comes from - it’s stateless</li>
<li>are highly reusable components</li>
</ul>
</li>
</ul>
<p>So TLDR is :</p>
<ul>
<li>the webapp is a tree of components</li>
<li>theses components are stateful or stateless</li>
<li>views are stateful</li>
<li>stateful components fetches and store data (it is the state)</li>
<li>stateful components are an aggregation of stateless components</li>
<li>stateless components renders data only, so they are reusables</li>
</ul>
<p>See section <em>component design</em> section in <em>inter-component communication</em> part for this design flaws.</p>
<h3 id="title-b---components-types">B - Components types</h3>
<p><a href="https://blog.wishtack.com/2017/05/05/the-guide-to-building-quality-angular-2-components/">The 3 component categories in Angular</a></p>
<p><a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">Presentational and Container Components : Dan Abramov (ReactJS team, Redux author)</a></p>
<ul>
<li>View Components (or Routing components) (or Stateful components for Todd Motto)</li>
<li>Container Components (or Smart components) (or Stateful components for Todd Motto)</li>
<li>Dumb Components (or Stateless components for Todd Motto)</li>
</ul>
<p>Responsabilities table</p>
<table>
<thead>
<tr>
<th>Responsabilities per component</th>
<th>View Comp.</th>
<th>Container Comp.</th>
<th>Dumb Comp.</th>
</tr>
</thead>
<tbody><tr>
<td>Read route parameters</td>
<td>YES</td>
<td>NO</td>
<td>NO</td>
</tr>
<tr>
<td>Uses stores and data services</td>
<td>NO</td>
<td>YES</td>
<td>NO</td>
</tr>
<tr>
<td>Display and styling</td>
<td>NO</td>
<td>NO</td>
<td>YES</td>
</tr>
</tbody></table>
<h2 id="title-iii---feedback">III - feedback</h2>
<h3 id="title-a---ng-15-from-the-trenches-at-velesinio">A - NG 1.5 from the trenches at velesin.io</h3>
<ul>
<li>1/7 <a href="https://velesin.io/2016/04/14/starting-a-new-app-in-angular-1-5/">Starting a new app in Angular 1.5 – does it make sense?</a></li>
<li>2/7 <a href="https://velesin.io/2016/04/26/angular-1-5-app-as-a-tree-of-components/">Angular 1.5 app as a tree of components</a></li>
<li>3/7 <a href="https://velesin.io/2016/05/18/communication-between-angular-1-5-components/">Communication between Angular 1.5 components (and with the API)</a></li>
<li>4/7 <a href="https://velesin.io/2016/05/31/angular-1-5-fractal-project-structure/">A flexible Angular 1.5 project structure (the “fractal” architecture)</a></li>
<li>5/7 <a href="https://velesin.io/2016/07/12/angular-1-5-project-in-es6-es2015/">Writing Angular 1.5 project in ES6/ES2015</a></li>
<li>6/7 <a href="https://velesin.io/2016/08/23/unit-testing-angular-1-5-components/">Unit testing Angular 1.5 components – a detailed guide</a></li>
<li>7/7 E2E testing of component-oriented Angular 1.5 app [COMING SOON]</li>
</ul>
<h2 id="title-iv---inter-component-communication">IV - inter-component communication</h2>
<h3 id="title-a---angular-2-parent--child-communication-via-service">A - angular 2 parent &amp; child communication via service</h3>
<p><a href="https://angular.io/guide/component-interaction#parent-and-children-communicate-via-a-service">Parent and children communicate via a service : angular.io</a></p>
<h3 id="title-b---practices-overview">B - practices overview</h3>
<p>src <a href="http://stackoverflow.com/questions/41070446/angular-1-5-components-communication-best-practice">Angular 1.5. Components communication. Best practice : stackoverflow.com</a></p>
<blockquote>
<p>I’m using Angular 1.5.9.</p>
</blockquote>
<blockquote>
<p>Right now I have two components which need to communicate. If I change something in the first one (for example choose item in the list) =&gt; second one needs to be changed (item that was chosen needs to be displayed) and vice versa (changing in the second one =&gt; change in the first one) I have read about a lot of approaches, so I can manage this in few ways:</p>
</blockquote>
<blockquote>
<ol>
<li>Communication via shareable Service</li>
<li>Using two way data binding (“=” option in component bindings). Example: <a href="https://jsfiddle.net/peter_drinnan/t4q4nrfp/27/">https://jsfiddle.net/peter_drinnan/t4q4nrfp/27/</a></li>
<li>Using one way data binding with input/output approach. Example: <a href="http://stackoverflow.com/questions/36033940/how-to-pass-data-between-child-components-in-angular-1-5-not-using-scope">http://stackoverflow.com/questions/36033940/how-to-pass-data-between-child-components-in-angular-1-5-not-using-scope</a></li>
<li>Using “require” (some parent component to share data). Example: <a href="http://stackoverflow.com/questions/36645065/component-communication-in-angular-1-5">http://stackoverflow.com/questions/36645065/component-communication-in-angular-1-5</a></li>
</ol>
</blockquote>
<blockquote>
<p>Maybe I miss something? What is the best practice?</p>
</blockquote>
<blockquote>
<p>Thank you.</p>
</blockquote>
<h3 id="title-c---component-design">C - component design</h3>
<h4 id="title-1---avoid-event-bubbling--extraneous-props">1 - avoid event bubbling &amp; extraneous props</h4>
<p><a href="http://blog.angular-university.io/angular-component-design-how-to-avoid-custom-event-bubbling-and-extraneous-properties-in-the-local-component-tree/">Angular Component Design: How to Avoid Custom Event Bubbling And Extraneous Properties in the Local Component Tree</a></p>
<p>2 big flaws :</p>
<ul>
<li>Custom Event Bubbling</li>
<li>Extraneous Properties (input are props so if tree is deeper then 2 comps, there is lots of props passing through for nothing)</li>
</ul>
<h4 id="title-2---cross-component-communication-design-comparison">2 - cross component communication design comparison</h4>
<p><a href="http://www.aurorasolutions.io/blog/angularjs-cross-component-communication/">AngularJS: Cross Component Communication</a></p>
<ul>
<li>Communicating with inherited scopes</li>
<li>Communicating with events </li>
<li>Communicating with services</li>
</ul>
<h4 id="title-3---event-based-design-is-cancer">3 - event based design is cancer</h4>
<p>Events are no more then GOTO in an asynchronous context. (&lt;- assert by me)</p>
<p>Worse then goto :</p>
<ul>
<li>async</li>
<li>many place in source code to register an event</li>
</ul>
<p><a href="http://stackoverflow.com/questions/46586/goto-still-considered-harmful">GOTO still considered harmful? : stackoverflow.com</a></p>
<p><a href="https://github.com/johnpapa/angular-styleguide/issues/805">Add Angular1 Event Patterns/Best Practices</a></p>
<h3 id="title-d---articles">D - articles</h3>
<p><a href="http://developer.telerik.com/featured/front-end-application-frameworks-component-architectures/">Front-end Application Libraries and Component Architectures</a></p>
<p><a href="https://github.com/toddmotto/angularjs-styleguide/issues/156">Parent component trigger function in child component</a></p>
<p><a href="https://github.com/toddmotto/angularjs-styleguide/issues/90">component communication and triggers</a></p>
<p><a href="http://kfarst.github.io/angular/2017/03/29/component-interaction-in-angular/">Component Interaction in Angular : kfarst.github.io</a> 20170329</p>
<p><a href="http://dfsq.info/site/read/angular-components-communication">Angular components communication : dfsq.info</a></p>
</article></body></html>