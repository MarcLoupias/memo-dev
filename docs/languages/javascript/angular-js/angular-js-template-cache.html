<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui"><meta name="robots" content="none"><title>marlou knowledge base</title><link href="../../../github-markdown.css" rel="stylesheet" media="all"><link href="../../../main.css" rel="stylesheet" media="all"><link href="../../../github.css" rel="stylesheet"><script src="../../../index.js"></script></head><body><article class="markdown-body"><h1 id="title-angularjs---templatecache">AngularJS - <code>$templateCache</code></h1>
<h2 id="title-templatecache-httpscodeangularjsorg148docsapingservicetemplatecache">[$templateCache] (<a href="https://code.angularjs.org/1.4.8/docs/api/ng/service/$templateCachtml">https://code.angularjs.org/1.4.8/docs/api/ng/service/$templateCache</a>)</h2>
<p>Quand angular voit un templateUrl dans une route ou une directive, il va requêter le serveur pour retrouver le fichier html.<br>Une fois qu’il l’a récupéré, il place ce template sous forme de string dans le service $templateCache.<br>Chaque fois suivante ou angular aura besoin d’accéder à ce template, il va recharger le template depuis $templateCache.<br>Ce qui évite de multiples connexions réseau inutiles.</p>
<h2 id="title-bonne-pratique">Bonne pratique</h2>
<p>Une bonne pratique consiste à populer $templateCache au build de l’application via un module gulp ([gulp-angular-templatecache] (<a href="https://github.com/miickel/gulp-angular-templatecachtml">https://github.com/miickel/gulp-angular-templatecache</a>)).<br>Ainsi il n’y aura aucun accès réseau pour récupérer les templates.</p>
<h2 id="title-implémentation">Implémentation</h2>
<p>Concrètement cette tâche gulp va générer un fichier js qui implémente un run du module principal de la webapp.<br>Ce run injectera $templateCache.<br>Pour chaque template trouvé dans le source de la webapp, un call à $templateCache.put(<templateUrl>, <templateHtmlContent>) sera effectué.</p>
<h2 id="title-lectures-sur-le-sujet">Lectures sur le sujet</h2>
<ul>
<li>[templatecache-tutorial : thinkster.io] (<a href="https://thinkster.io/templatecache-tutorihtml">https://thinkster.io/templatecache-tutorial</a>)</li>
<li>[template-caching-in-angular-how-to-avoid-the-storm] (<a href="https://blog.logentries.com/2015/03/template-caching-in-angular-how-to-avoid-the-storhtml">https://blog.logentries.com/2015/03/template-caching-in-angular-how-to-avoid-the-storm/</a>)</li>
</ul>
</article></body></html>